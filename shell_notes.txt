xev     # Inspect keyboard input/modifiers and mouse events

use xdotool (much better) or xte to simulate keyboard and mouse input:
xdotool key --window 67109045 Shift+Tab Home Enter
To find your target window:
xdotool search --name "try_guess_name" | xargs -p -n 1 xdotool getwindowgeometry

With X you get xclip and xsel utilities so you can manipulate the clipboard from the command line (or script)
To paste use somethign like: `xclip -o -sel -c` OR `xsel -o -b`
To copy use something like: `xclip -i -sel -c` OR `xsel -i -b`

Info on terminals and ttys and command line:
http://catern.com/posts/terminal_quirks.html
http://www.linusakesson.net/programming/tty/
http://ss64.com/bash/syntax-keyboard.html
http://stackoverflow.com/questions/211378/hidden-features-of-bash


fc -l -300  # list last 300 history commands
history | tail -n 300     # list last 300 history commands
Conclusion: learn how to use fc! Especially since it provides history editing. And since
you have already played around with it.

in all your scripts: add "set -u" option. This will make sure that all your variables 
are (initialised/not empty) before use. (Otherwise `rm -rf "$foo/$bar"` will 
ERASE your filesystem when $foo and $bar are empty/uninitialised) 

Also for safer bash scripting see: https://sipb.mit.edu/doc/safe-shell/

shopt options (note: shopt and set are very similar but different commands):
http://www.gnu.org/software/bash/manual/html_node/The-Shopt-Builtin.html


map caps to escape:
setxkbmap -option "caps:escape"
also: `xkbprint :0.0` to print map for zero display to postscript/ghostscript file and 
then use `ps2pdf filename.ps` to make a pdf image.

Know about ibus, used for interactive text entry in multilingual environment.

"sudo apt-get install build-essentials" on new ubuntu machine.

On unubtu to restart JUST the window manager (the unity window manager)
(this is just the gui restart so your applications will be unaffected):
You can ALT+F2 (to open runtime GUI window, NOT a tty switch), type `unity`, hit ENTER.
Otherwise you should change the tty and do:
`DISPLAY=:0 unity --replace` OR `compiz --display :0 --replace` (since unity is a compiz plugin)
Remember to either prepend a setsid like: `setsid DISPLAY=:0 unity --replace` 
OR add a trailing & disown like: `DISPLAY=:0 unity --replace & disown` (Note just one & sign!)
Otherwise unity process will be attached to your terminal, and unity will be killed when
you close your terminal.

Many window managers take the --replace option, which can 
function as a window manager restart. So remember about it the next time
your gui freezes! 

To restart the X server (display manager a.k.a. "dm") use 
You should type: sudo service XXX restart
The XXX should be (without quotes):
    gdm if you use Ubuntu 11.04 or older
    lightdm for Ubuntu 11.10




.Xresources  
File where programs can typically look for their settings. 
For example rxvt and its clones look there and so do vim and emacs. Some progs look in .Xdefaults. A small number of progs look for files in "app-defaults" dir (that is `/usr/X11R6/lib/X11/app-defaults`)
To use it properly you should know about `xrdb`, `xrdb -merge` and `listres`. (xrdb is to source the config)
To find the name of program's instance and its class:
1) open the program
2) in terminal start `xprop`
3) click on the running program and look for line `WM_CLASS(STRING) = "prog_instance", "prog_class"`
For example running `xprop` on "xterm" gives `WM_CLASS(STRING) = "xterm", "XTerm"`
NOTE: when you write entry for .Xresources or .Xdefaults use EITHER prog_instance OR prog_class as first value
Avoid blank spaces at the beginning and end of lines in the .Xresources file

How to use X resources:
http://kb.mit.edu/confluence/pages/viewpage.action?pageId=3907291     (quite good)
http://www.tldp.org/HOWTO/XWindow-User-HOWTO/moreconfig.html


To set up fonts know about `fc-list` and it option `fc-list -v` to show everything.
Especially interesting line is `fullname: "Some font"` which tells you how the font is called on this computer.
`xfontsel` shows you all the X11 fonts and allows to set system wide font. (it goes into .Xresources)


for xargs:
http://www.thegeekstuff.com/2013/12/xargs-examples/       (quite good)

Use the comma ',' as the separator and sort by the 2nd field.
`sort -t',' -k2`


To monitor unintended system changes: Tripwire (tells you when checksums for packages change)
also: rkhunter and chkrootkit
Also fail2ban is a lightweight and simpler alternative.
Also on CnetOs you can check root files system integrity (system files modification) with: `rpm -Va`

check integrity of installed packages: debsums

You can use `dmesg --follow` to find name of a device (like: `/dev/ttyUSB0`) as you plug it in.


After you compile (make && sudo make install) remember to run ldconfig
This can (and will) absolutely save you!!

Postgres leaves around many, many pg_xxxxx files (in particular pg_config which can unintentionally prevent you from reinstalling postgres correctly) so when you delete postgres, delete them too!


getconf LONG_BIT to get the bitness of the system.

You want to do giagrams by typing? In something like vim or emacs? Man, check out "graphviz"!
And use this link for a howto: http://melp.nl/2013/08/flow-charts-in-code-enter-graphviz-and-the-dot-language/


This is only related to web development, but whatever! When you get stuff across the internet 
it comes with a MIME type (when using http protocol), stuff like "applications/x-tar-compressed", 
"text/html", "text/plain", "image/png". Browsers display content based on those mime types, 
so when firefox displays PNG or HTML as text, its the MIME type that messed things up.


Simplest GUI image browser oriented towards command line user: feh
Website at: http://feh.finalrewind.org/


Installing Arch-Linux dual boot on Mac:
Note: The EFI directory is sometimes called the ESP (EFI System Partition) or one other crappy name.
1) Need rEFInd
2) To modify EFI partition later do:
`$ mkdir /Volumes/EFI`  # name does not matter
`$ sudo mount -t msdos /dev/disk0s1 /Volumes/EFI`
3) If arch linux resides on a ext4 partition, rEFInd will need drivers to read ext4. To install them
mount disk0s1 and copy the driver folder (either "drivers_x64" for 64 bit or "drivers_ia32" for 32 bit) to "refind" directory. So you should have the driver "*.efi" files in "/EFI/refind/drivers_x64/*.efi"
Also remember to set "also_scan_dirs" to some value in "refind.conf" which is on the EFI partition.
4) To get the EFI shell working in rEFInd you need to get the .efi file that contains shell efi from rEFInd author and move it on to the "refind" folder on the EFI partition.
5) Don't follow the Beginners guide and don't use parted or cgdisk to create partitions. Use the Disk Utility in OS X to do that. Then use parted and cgdisk to just set the partition bootable. Use mkfs.ext4 to make the filesystem.
6) Good fucking luck!
Good wesite on UEFI: https://www.happyassassin.net/2014/01/25/uefi-boot-how-does-that-actually-work-then/
To do without rEFInd: http://heeris.id.au/2014/ubuntu-plus-mac-pure-efi-boot/

When you want to triple boot windows as well:
1) Similar to dual boot mac with OS X and Arch.
2) First make partitions in OS X. (mac can not handle more than 4 partitions, so: rEFInd, os x, arch, windows)
3) First install windows then arch.
4) After windows installation, you will NOT be able to boot mac os x. Because windows bootloader screws things up.
So you must run "gptsync.efi" (see http://www.rodsbooks.com/efi-bootloaders/refind.html) utility from rEFInd.
But to run it you must first enable it in "refind.conf". Then you will be able to boot into mac os x. 
